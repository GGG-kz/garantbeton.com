# ‚öñÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–µ—Å–∞–º

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å –≤–µ—Å—ã –∫ –æ–¥–Ω–æ–º—É –∫–æ–º–ø—å—é—Ç–µ—Ä—É –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö —É–¥–∞–ª–µ–Ω–Ω–æ —Å –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ HTTP API.

## üìã –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
[–ö–æ–º–ø—å—é—Ç–µ—Ä —Å –≤–µ—Å–∞–º–∏] ‚Üê COM3 ‚Üê [–§–∏–∑–∏—á–µ—Å–∫–∏–µ –≤–µ—Å—ã]
         ‚Üì
    HTTP –°–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8080)
         ‚Üì
    [–î—Ä—É–≥–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã] ‚Üí HTTP –∑–∞–ø—Ä–æ—Å—ã ‚Üí [–ü–æ–ª—É—á–µ–Ω–∏–µ –≤–µ—Å–∞]
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä —Å –≤–µ—Å–∞–º–∏

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js
- –°–∫–∞—á–∞–π—Ç–µ —Å https://nodejs.org/
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é 16+ 

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–µ—Ä
```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä —Å –≤–µ—Å–∞–º–∏:
# - scales-http-server.js
# - scales-server-package.json

# –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ package.json
mv scales-server-package.json package.json

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
npm start
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ COM-–ø–æ—Ä—Ç–∞
–í —Ñ–∞–π–ª–µ `scales-http-server.js` –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥ –≤–∞—à–∏ –≤–µ—Å—ã:
```javascript
const COM_PORT = 'COM3';        // –í–∞—à COM-–ø–æ—Ä—Ç
const BAUD_RATE = 9600;         // –°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏
// –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤–µ—Å–æ–≤ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ–¥–µ–ª–∏):
scalesPort.write('W\r\n');      // –ö–æ–º–∞–Ω–¥–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≤–µ—Å–∞
scalesPort.write('T\r\n');      // –ö–æ–º–∞–Ω–¥–∞ –æ–±–Ω—É–ª–µ–Ω–∏—è (—Ç–∞—Ä–∞)
```

## üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤

### 1. HTTP API –º–∞—Ä—à—Ä—É—Ç—ã

**–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
curl http://192.168.1.100:8080/status
```

**–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –≤–µ—Å:**
```bash
curl http://192.168.1.100:8080/weight
```

**–û–±–Ω—É–ª–∏—Ç—å –≤–µ—Å—ã:**
```bash
curl -X POST http://192.168.1.100:8080/tare
```

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–í –≤–∞—à–µ–º –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTP –∫–ª–∏–µ–Ω—Ç:

```javascript
// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É –≤–µ—Å–æ–≤
const SCALES_SERVER_URL = 'http://192.168.1.100:8080';

// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–µ—Å–∞
async function getWeight() {
  try {
    const response = await fetch(`${SCALES_SERVER_URL}/weight`);
    const data = await response.json();
    return data.value; // –í–µ—Å –≤ –∫–≥
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≤–µ—Å–∞:', error);
  }
}

// –û–±–Ω—É–ª–µ–Ω–∏–µ –≤–µ—Å–æ–≤
async function tareScales() {
  try {
    await fetch(`${SCALES_SERVER_URL}/tare`, { method: 'POST' });
    console.log('–í–µ—Å—ã –æ–±–Ω—É–ª–µ–Ω—ã');
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –æ–±–Ω—É–ª–µ–Ω–∏—è:', error);
  }
}
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏

### 1. –ù–∞–π–¥–∏—Ç–µ IP –∞–¥—Ä–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ —Å –≤–µ—Å–∞–º–∏
```bash
# Windows
ipconfig

# Linux/Mac
ifconfig
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç –≤ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–µ
- Windows: –†–∞–∑—Ä–µ—à–∏—Ç–µ –ø–æ—Ä—Ç 8080 –≤ Windows Firewall
- Linux: `sudo ufw allow 8080`

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```bash
# –° –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
curl http://IP_–ê–î–†–ï–°_–ö–û–ú–ü–¨–Æ–¢–ï–†–ê_–°_–í–ï–°–ê–ú–ò:8080/status
```

## üì± –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–∏—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É –≤–µ—Å–æ–≤ –≤ Dashboard

–ó–∞–º–µ–Ω–∏—Ç–µ —Ç–µ–∫—É—â—É—é –∫–∞—Ä—Ç–æ—á–∫—É –Ω–∞ –≤–µ—Ä—Å–∏—é —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:

```javascript
// –î–æ–±–∞–≤—å—Ç–µ –≤ DashboardPage.tsx
const [scalesServerUrl, setScalesServerUrl] = useState('http://192.168.1.100:8080');
const [remoteWeight, setRemoteWeight] = useState(null);

// –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–µ—Å–∞ —Å —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
const getRemoteWeight = async () => {
  try {
    const response = await fetch(`${scalesServerUrl}/weight`);
    const data = await response.json();
    setRemoteWeight(data.value);
  } catch (error) {
    alert('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É –≤–µ—Å–æ–≤: ' + error.message);
  }
};
```

### 2. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```javascript
// –ü–æ–ª—è –¥–ª—è –≤–≤–æ–¥–∞:
// - IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –≤–µ—Å–æ–≤
// - –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8080)
// - –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ —É–¥–∞–ª–µ–Ω–Ω—ã–º –≤–µ—Å–∞–º"
// - –ö–Ω–æ–ø–∫–∞ "–ü–æ–ª—É—á–∏—Ç—å –≤–µ—Å"
// - –ö–Ω–æ–ø–∫–∞ "–û–±–Ω—É–ª–∏—Ç—å –≤–µ—Å—ã"
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### 1. –í–µ—Å—ã –Ω–µ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ COM-–ø–æ—Ä—Ç –≤ –î–∏—Å–ø–µ—Ç—á–µ—Ä–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥—Ä–∞–π–≤–µ—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—á–∏ (9600 bps, 8N1)

### 2. HTTP —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 8080 —Å–≤–æ–±–æ–¥–µ–Ω
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

### 3. –ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 8080 –æ—Ç–∫—Ä—ã—Ç –≤ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å: `ping IP_–ê–î–†–ï–°`

### 4. –í–µ—Å –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏ –≤–µ—Å–æ–≤
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Å—ã –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –æ—Ç –≤–µ—Å–æ–≤

## üìä –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –≤–µ—Å–æ–≤

### CAS —Å–µ—Ä–∏—è
```javascript
scalesPort.write('W\r\n');  // –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Å
scalesPort.write('T\r\n');  // –¢–∞—Ä–∞
```

### Mettler Toledo
```javascript
scalesPort.write('P\r\n');  // –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Å
scalesPort.write('Z\r\n');  // –¢–∞—Ä–∞
```

### Sartorius
```javascript
scalesPort.write('?\r\n');  // –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Å
scalesPort.write('T\r\n');  // –¢–∞—Ä–∞
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ HTTP API
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ IP –∞–¥—Ä–µ—Å–∞–º
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ COM-–ø–æ—Ä—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤–µ—Å–æ–≤
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏ –≤–µ—Å–æ–≤
